<!DOCTYPE html>
<html lang="en-US">
<head>

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-132447077-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-132447077-2');
</script>


  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <meta name="Description" 
  content="The best, free, interactive Bike Network Map for New York City that combines live data from NYC OpenData, Citi Bike and The City of New York. Includes information, updated March 2020, about NYC Bike Lanes, Greenways, Bike Paths, Citi Bike, Bike Routes, Bike Parking and more NYCBike resources.">
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet" defer> 

  
  <!-- <script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script> -->
  <script src='mapbox-gl.js'></script> 
  
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 45px; bottom: 0; width: 100%; }
    p {font-family: Arial, Helvetica, sans-serif; margin-left: 3%; margin-right: 3%;}
  </style>
  
  <script src="modernizr.js"></script>
<!-- Favicons: -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/icons/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/icons/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="images/icons/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="images/icons/favicon-16x16.png" sizes="16x16" />
<meta name="application-name" content="NYC Bike Map"/>
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="images/icons/mstile-144x144.png" />


<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>
</head>
<title>NYC Bike Map</title>

<body style="background-color: white">
  <link href='mapbox-gl.css' rel='stylesheet'/>

  <script src="directions.js"></script>
  
  <!-- <script>
    (function() {
    if(Modernizr.touchevents === false) {
        var theScript = document.createElement('script');
        theScript.type = 'text/javascript';
        theScript.src = 'directions.js';
     
        var head = document.getElementsByTagName('head')[0];
        body.appendChild(theScript);
    }
    })();
    </script> -->

  <link rel="stylesheet" href="directions.css" type="text/css" defer/>


<!-- Menu  -->
<ul class="nav-mobile">
  <li>NYC Bike Map</li>        
  <li style= "font-family: 'Roboto', sans-serif;" class="menu-container"> 
    <input id="menu-toggle" type="checkbox">
    <label for="menu-toggle" class="menu-button">  
      <svg class="icon-open" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg>
      <svg class="icon-close" viewBox="0 0 100 100">
        <path d="M83.288 88.13c-2.114 2.112-5.575 2.112-7.69 0L53.66 66.188c-2.113-2.112-5.572-2.112-7.686 0l-21.72 21.72c-2.114 2.113-5.572 2.113-7.687 0l-4.693-4.692c-2.114-2.114-2.114-5.573 0-7.688l21.72-21.72c2.112-2.115 2.112-5.574 0-7.687L11.87 24.4c-2.114-2.113-2.114-5.57 0-7.686l4.842-4.842c2.113-2.114 5.57-2.114 7.686 0l21.72 21.72c2.114 2.113 5.572 2.113 7.688 0l21.72-21.72c2.115-2.114 5.574-2.114 7.688 0l4.695 4.695c2.112 2.113 2.112 5.57-.002 7.686l-21.72 21.72c-2.112 2.114-2.112 5.573 0 7.686L88.13 75.6c2.112 2.11 2.112 5.572 0 7.687l-4.842 4.84z"/>
      </svg> 
    </label>      
    <ul class="menu-sidebar">

      <li>
        <input type="checkbox" id="sub-one" class="submenu-toggle">        
        <label class="submenu-label" for="sub-one">Filter</label>
        <div class="arrow right">&#8250;</div> 
        <ul class="menu-sub">
          <li class="menu-sub-title">
            <label class="submenu-label" for="sub-one">Back</label>
            <div class="arrow left">&#8249;</div>              
          </li>      
          <li><a href="#">Filter feature coming soon!</a></li>
          <!-- <li><a href="#">Sub-item</a></li>
          <li><a href="#">Sub-item</a></li>     
          <li><a href="#">Sub-item</a></li>                                 -->
        </ul>              
      </li>  
      
      <li>
        <input type="checkbox" id="sub-two" class="submenu-toggle">        
        <label class="submenu-label" for="sub-two">How to use NYC Bike Map</label>
        <div class="arrow right">&#8250;</div> 
        <ul  class="menu-sub" style = "padding: 0px; 
        overflow-y: auto; ">
          <li class="menu-sub-title">
            <label class="submenu-label" for="sub-two">Back</label>
            <div class="arrow left">&#8249;</div>              
          </li>      
          <h1 style="margin:3%;">Protected Bike Lanes:</h1>
          <picture>
            <source srcset="images/protected.webp"  type="image/webp">
            <source type="image/jp2" srcset="images/protected.jp2">
            <img class = "legend-image" src = "images/protected.png" height="40%" width="70%">
          </picture>
          <p style = "line-height: normal;"> Protected Bike Lanes include all dedicated bike lanes that are seperated from vehicular traffic.</p>
          <h1 style="margin:3%;">On-Street Bike Lanes:</h1>
          <picture>
            <source srcset="images/standard.webp"  type="image/webp">
            <source type="image/jp2" srcset="images/standard.jp2">
              <img class = "legend-image" src = "images/standard.png" height="30%" width="80%">
          </picture>
          <p style = "line-height: normal;">Standard Bike lanes that mix with vehicular traffic.</p>
          <h1 style="margin:3%;">Sharrows:</h1>
          <picture>
            <source srcset="images/sharrows.webp"  type="image/webp">
            <source type="image/jp2" srcset="images/sharrows.jp2">
              <img class = "legend-image" src = "images/sharrows.png" height="30%" width="80%">
          </picture>
          <p style = "line-height: normal;">Marked routes mixed with vehicular traffic.</p>
          <h1 style="margin:3%;">Citi Bike Docks:</h1>
          <picture>
            <source srcset="images/citibike.webp"  type="image/webp">
            <source type="image/jp2" srcset="images/citibike.jp2">
              <img class = "legend-image" src = "images/citibike.png" height="30%" width="80%">
          </picture>
          <p style = "line-height: normal; padding-bottom: 10%;">Citi bike dock locations, updated April 2020. Learn more about Citi Bike and get a free month, exclusive to NYC Bike Map users <a style="color: blue;"  rel="noopener" target="_blank" href="https://refer.citibikenyc.com/s/leemillsteintodd">here.</a></p>
          <h1 style="margin:3%;">Bike Shelters:</h1>
          <picture>
            <source srcset="images/sheltered.webp"  type="image/webp">
            <source type="image/jp2" srcset="images/sheltered.jp2">
              <img class = "legend-image" src = "images/sheltered.png" height="20%" width="40%">
          </picture>
          <p style = "line-height: normal;">There are a few dedicated bike shelter locations located throughout the city. Find out more <a style = "color:blue" rel="noopener" target= "_blank" href="https://www1.nyc.gov/html/dot/html/bicyclists/bicycleparking.shtml">here.</a></p>
          <h1 style="margin:3%;">Standard Bike Racks:</h1>
          <picture>
            <source srcset="images/rack.webp"  type="image/webp">
            <source type="image/jp2" srcset="images/rack.jp2">
            <img class = "legend-image" src = "images/rack.png" height="30%" width="60%">
          </picture>
          <p style = "line-height: normal;">Publicly availible bike racks with capacity.</p>
        </ul>              
      </li>
      
      
      <!-- <li> -->
        <!-- <input type="checkbox" id="sub-three" class="submenu-toggle">        
        <label class="submenu-label" for="sub-three">Follow us on social media!</label>
        <div class="arrow right">&#8250;</div> 
        <ul class="menu-sub">
          <li class="menu-sub-title">
            <label class="submenu-label" for="sub-three">Back</label>
            <div class="arrow left">&#8249;</div>              
          </li>      
          <li><a target = "_blank" rel="noopener" href="https://www.instagram.com/superior_labs/">Instagram</a></li>
          <li><a target = "_blank" rel="noopener" href="https://github.com/todd-lm/nycbikemap">Github</a></li>
          <li><a href="https://www.producthunt.com/posts/nyc-bike-map?utm_source=badge-featured&utm_medium=badge&utm_souce=badge-nyc-bike-map" target="_blank"><img src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=189060&theme=light" alt="NYC Bike Map - The most powerful open source bike map for NYC. | Product Hunt Embed" style="width: 250px; height: 54px;" width="250px" height="54px" /></a></li>  -->
     <!-- <li><a href="#">Twitter</a></li> -->

        <!-- </ul>               -->
      <!-- </li> -->

      <li><a href="about.html">Learn more about NYC Bike Map</a></li>

      <li><a target = "_blank" rel="noopener" href="https://refer.citibikenyc.com/s/leemillsteintodd">Get a free month of Citi Bike!</a></li>

      <li><a href="https://www.producthunt.com/posts/nyc-bike-map?utm_source=badge-featured&utm_medium=badge&utm_souce=badge-nyc-bike-map" target="_blank" rel = "noopener"><img src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=189060&theme=light" alt="NYC Bike Map - The most powerful open source bike map for NYC. | Product Hunt Embed" style="width: 250px; height: 54px;" width="250px" height="54px"></a></li>
      <a style = ""   href="https://twitter.com/nyc_bike_map?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-size="large" data-dnt="true" data-show-count="false">Follow @nyc_bike_map</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
      <!-- Place this tag where you want the button to render. -->
        <a class="github-button" href="https://github.com/todd-lm/nycbikemap" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star tpixelminer/nycbikemap on GitHub">Star On Github</a>
    <p>NYC Bike Map v1.0</p>
    <footer>
      <small>&copy; Copyright 2020, Todd Lee-Millstein</small>
</footer>
                                         
    </ul> 
  </li>
</ul>






  <div id='map'></div>
  <script>

//Check to see if browser is supported
if (!mapboxgl.supported()) {
alert('Your browser does not support NYC Bike Map');
} else {

  mapboxgl.accessToken = 'pk.eyJ1IjoidG9kZGxtIiwiYSI6ImNrN3RuYzRjaDB2Zm4zZm5yOW42Ymt0cDQifQ.x1fVFY167sQIIxb3a2zMpQ';
  var map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/toddlm/ck7tne8954uck1iplsky5igqx?optimize=true'
  });
}

// Add geolocate control to the map.
map.addControl(
new mapboxgl.GeolocateControl({
positionOptions: {
enableHighAccuracy: true
},
trackUserLocation: true
})
);
//Add Fullscreen
map.addControl(new mapboxgl.FullscreenControl());

if (Modernizr.touchevents ===false) {
//Add Navigation
map.addControl(new mapboxgl.NavigationControl());
 //Add navigation 
 
 var directions = new MapboxDirections({
  accessToken: 'pk.eyJ1IjoidG9kZGxtIiwiYSI6ImNrN3RuYzRjaDB2Zm4zZm5yOW42Ymt0cDQifQ.x1fVFY167sQIIxb3a2zMpQ',
  profile: 'mapbox/cycling',
  alternatives: true,
  profileSwitcher: false,


});

map.addControl(directions,'bottom-right')(
new MapboxDirections({
accessToken: mapboxgl.accessToken,
}),

);
}
   
  </script>

</body>
</html>